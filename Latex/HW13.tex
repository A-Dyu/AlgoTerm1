\documentclass{article}
\usepackage[russian]{babel}
\usepackage{ragged2e}

\begin{document}
\begin{flushleft}
\section{}


\section{}



\section{}
Изначально определим что $w[i] \le S$ т.к иначе решения не существует. Пусть $dp[mask]$ хранит самое оптимальное состояние \{количество сделанных подходов, вес текущего рюкзака\} для набора предметов заданного данной маской $mask$ (оптимальность состояния определяется сравнением сначала по количеству подходов, потом по весу). $dp[0] = \{0, 0\}$ Далее для $1 \le mask < 2^n$ будем перебирать $n$ вершин, если вершина $i$ еще не взята в нашей $mask$, то если $dp[mask].second + w[i] < S: dp[mask \bigoplus 2^i] = min(dp[mask \bigoplus 2^i], \{dp[mask].first, dp[mask].second + w[i]\})$, иначе $dp[mask \bigoplus 2^i] = min(dp[mask \bigoplus 2^i], \{dp[mask].first + 1, w[i]\})$. Таким образом, ответом будет $dp[2^n - 1].first + min(1, dp[2^n - 1].second)$.


\section{}
1)Обозначим значение искомой функции за $S$. Рассмотрим случай дерева состоящего только из корня. Он сам же является листом с высотой $0 \Rightarrow S = 2^0 = 1$. Теперь рассмотрим лист высоты $k$ произвольного дерева. Он добавляет в значение $S$ $2^{-k}$. Если мы подвесим к нему одного ребенка, значение $S$ станет $S = S - 2^{-k} + 2^{-(k + 1)}$, что меньше на $2^{-(k + 1)}$ чем предыдущее. Если подвесить два ребенка, значение не изменится ($S - 2^{-k} + 2 * (2^{-(k + 1)}) = S$). Следовательно, нельзя увеличить значение $S$ добавлением вершин в дерево $\Rightarrow$ т.к при $n = 1$ $S = 1$, то при любых $n >= 1:$ $S \le 1$.

2) $S = 1$ только в деревьях, где у любой вершины кроме листа 2 ребенка. Докажем: из п.1 мы знаем что если добавит к листу одного ребенка, $S$ уменьшится на $2^{-(k + 1)}$, также мы доказали что значение $S$ нельзя увеличить добавлением вершин $\Rightarrow$ у любого дерева с вершиной имеющей одного ребенка $S < 1$. С другой стороны, у любого дерева, вершины которого (кроме листьев) имеют двух детей $S = 1$, т.к добавление двух детей не изменяет значение $S$, а при $n = 1$ $S = 1$.


\section{}



\end{flushleft}
\end{document}